<html><head><title>sbt-source-docs: Usage</title><meta charset="utf-8" /><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="author" content="Threat Stack, Inc" /><meta name="description" content="A plugin to pull source code into docs." /><meta name="og:image" content="/docs/img/poster.png" /><meta name="og:title" content="sbt-source-docs: Usage" /><meta name="og:site_name" content="sbt-source-docs" /><meta name="og:url" content="https://sbt-source-docs.github.io/threatstack/sbt-source-docs/" /><meta name="og:type" content="website" /><meta name="og:description" content="A plugin to pull source code into docs." /><link rel="icon" type="image/png" href="/docs/img/favicon.png" /><meta name="twitter:title" content="sbt-source-docs: Usage" /><meta name="twitter:image" content="https://sbt-source-docs.github.io/threatstack/sbt-source-docs/img/poster.png" /><meta name="twitter:description" content="A plugin to pull source code into docs." /><meta name="twitter:card" content="summary_large_image" /><link rel="icon" type="image/png" sizes="16x16" href="/docs/img/favicon16x16.png" /><link rel="icon" type="image/png" sizes="24x24" href="/docs/img/favicon24x24.png" /><link rel="icon" type="image/png" sizes="32x32" href="/docs/img/favicon32x32.png" /><link rel="icon" type="image/png" sizes="48x48" href="/docs/img/favicon48x48.png" /><link rel="icon" type="image/png" sizes="57x57" href="/docs/img/favicon57x57.png" /><link rel="icon" type="image/png" sizes="60x60" href="/docs/img/favicon60x60.png" /><link rel="icon" type="image/png" sizes="64x64" href="/docs/img/favicon64x64.png" /><link rel="icon" type="image/png" sizes="70x70" href="/docs/img/favicon70x70.png" /><link rel="icon" type="image/png" sizes="72x72" href="/docs/img/favicon72x72.png" /><link rel="icon" type="image/png" sizes="76x76" href="/docs/img/favicon76x76.png" /><link rel="icon" type="image/png" sizes="96x96" href="/docs/img/favicon96x96.png" /><link rel="icon" type="image/png" sizes="114x114" href="/docs/img/favicon114x114.png" /><link rel="icon" type="image/png" sizes="120x120" href="/docs/img/favicon120x120.png" /><link rel="icon" type="image/png" sizes="128x128" href="/docs/img/favicon128x128.png" /><link rel="icon" type="image/png" sizes="144x144" href="/docs/img/favicon144x144.png" /><link rel="icon" type="image/png" sizes="150x150" href="/docs/img/favicon150x150.png" /><link rel="icon" type="image/png" sizes="152x152" href="/docs/img/favicon152x152.png" /><link rel="icon" type="image/png" sizes="196x196" href="/docs/img/favicon196x196.png" /><link rel="icon" type="image/png" sizes="310x310" href="/docs/img/favicon310x310.png" /><link rel="icon" type="image/png" sizes="310x150" href="/docs/img/favicon310x150.png" /><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" /><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" /><link rel="stylesheet" href="/docs/highlight/styles/atom-one-light.css" /><link rel="stylesheet" href="/docs/css/style.css" /><link rel="stylesheet" href="/docs/css/palette.css" /><link rel="stylesheet" href="/docs/css/codemirror.css" /></head><body class="docs"><div id="wrapper"><div id="sidebar-wrapper"><ul id="sidebar" class="sidebar-nav"><li class="sidebar-brand"><a href="/docs/" class="brand"><div class="brand-wrapper"><span>sbt-source-docs</span></div></a></li><li><a href="/docs/css/palette.css" class=""></a></li><li><a href="/docs/css/style.css" class=""></a></li><li><a href="/docs/tools.html" class="">Tools</a></li><li><a href="/docs/usage.html" class=" active ">Usage</a></li></ul></div><div id="page-content-wrapper"><div class="nav"><div class="container-fluid"><div class="row"><div class="col-lg-12"><div class="action-menu pull-left clearfix"><a href="#menu-toggle" id="menu-toggle"><i class="fa fa-bars" aria-hidden="true"></i></a></div><ul class="pull-right"><li id="gh-eyes-item" class="hidden-xs"><a href="https://github.com/threatstack/sbt-source-docs"><i class="fa fa-eye"></i><span>WATCH<span id="eyes" class="label label-default">--</span></span></a></li><li id="gh-stars-item" class="hidden-xs"><a href="https://github.com/threatstack/sbt-source-docs"><i class="fa fa-star-o"></i><span>STARS<span id="stars" class="label label-default">--</span></span></a></li><li><a href="#" onclick="shareSiteTwitter('sbt-source-docs A plugin to pull source code into docs.');"><i class="fa fa-twitter"></i></a></li><li><a href="#" onclick="shareSiteFacebook('sbt-source-docs A plugin to pull source code into docs.');"><i class="fa fa-facebook"></i></a></li><li><a href="#" onclick="shareSiteGoogle();"><i class="fa fa-google-plus"></i></a></li></ul></div></div></div></div><div id="content" data-github-owner="threatstack" data-github-repo="sbt-source-docs"><div class="content-wrapper"><section><h1 id="usage">Usage</h1>
<p>The <code class="highlighter-rouge">sbt-source-docs</code> plugin includes a dsl for defining what source code is pulled into a code fence and some sbt related configuration.</p>

<p>First include the plugin in a <code class="highlighter-rouge">plugins.sbt</code> or similar file:</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">addSbtPlugin</span><span class="o">(</span><span class="s">"com.threatstack"</span> <span class="o">%</span> <span class="s">"sbt-source-docs"</span> <span class="o">%</span> <span class="s">"0.1.0-SNAPSHOT"</span><span class="o">)</span>
</code></pre></div></div>

<p>Then enable the plugin on the project that contains the source code that you want to pull from:</p>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">enablePlugins</span><span class="o">(</span><span class="nc">SourceDocsPlugin</span><span class="o">)</span>
</code></pre></div></div>

<h2 id="configuration">Configuration</h2>

<table>
  <thead>
    <tr>
      <th>Key</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>sourceDocs</td>
      <td>The task that runs executes the plugin</td>
    </tr>
    <tr>
      <td>sourceDocsSourceDirectory</td>
      <td>The directory to run the source replacements on</td>
    </tr>
    <tr>
      <td>sourceDocsTargetDirectory</td>
      <td>The directory to write the markdown files with replaced source to</td>
    </tr>
  </tbody>
</table>

<h2 id="replacement-directives">Replacement Directives</h2>

<p>The <code class="highlighter-rouge">sbt-source-docs</code> plugin currently supports several ways of pulling source code into documentation.
Code can be pulled in by:</p>
<ul>
  <li>A line number range in the file</li>
  <li>An assignment name (i.e. <code class="highlighter-rouge">var</code> or <code class="highlighter-rouge">val</code>)</li>
  <li>A method name</li>
</ul>

<h3 id="file-range-replacement">File Range Replacement</h3>
<p>Source code can be pulled in based on line numbers.</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>file &lt;file-name&gt; &lt;start&gt; &lt;end&gt;
</code></pre></div></div>

<p>The file directive takes three arguments that control what part of the file is pulled in:</p>
<ul>
  <li><code class="highlighter-rouge">file-name</code>: The name of the file relative to <code class="highlighter-rouge">sourceDocsSourceDirectory</code></li>
  <li><code class="highlighter-rouge">start</code>: A natural number that represents the first line of the file to be included</li>
  <li><code class="highlighter-rouge">end</code>: A positive number that represents the last line to be included in the code fence. Must be greater than or equal to <code class="highlighter-rouge">start</code></li>
</ul>

<h3 id="assignment-replacement">Assignment Replacement</h3>
<p>Source code can be pulled in based on an assignment name:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>assignment &lt;file-name&gt; &lt;assignment-name&gt;
</code></pre></div></div>

<p>The assignment directive takes two arguments to control what assignment is pulled into the code fence:</p>
<ul>
  <li><code class="highlighter-rouge">file-name</code>: The name of the file relative to <code class="highlighter-rouge">sourceDocsSourceDirectory</code></li>
  <li><code class="highlighter-rouge">assignment-name</code>: The name of the <code class="highlighter-rouge">var</code> or <code class="highlighter-rouge">val</code> whose declaration and body will be added to the code fence</li>
</ul>

<h3 id="method-replacement">Method Replacement</h3>
<p>Source code can be pulled in based on an method name:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>method &lt;path-to-file&gt; &lt;method-name&gt;
</code></pre></div></div>

<p>The method directive takes two arguments to control what method is pulled into the code fence:</p>
<ul>
  <li><code class="highlighter-rouge">file-name</code>: The name of the file relative to <code class="highlighter-rouge">sourceDocsSourceDirectory</code></li>
  <li><code class="highlighter-rouge">method-name</code>: The name of the <code class="highlighter-rouge">def</code> whose declaration and body will be added to the code fence.</li>
</ul>

<h3 id="others">Others</h3>
<p>There are certainly more parts of code that could be pulled in as well as directives to handle filtering pieces of the source that is being pulled in.
If you have ideas for improving the replacement dsl, please open an issue or even better a PR!</p>
</section></div></div></div></div><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script><script src="/docs/highlight/highlight.pack.js"></script><script>hljs.configure({
languages:['scala','java','bash']
});
hljs.initHighlighting();
             </script><script src="/docs/js/main.js"></script></body></html>